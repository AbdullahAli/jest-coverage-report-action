_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[13],{"/vJb":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/configuration",function(){return n("qYce")}])},qYce:function(e,t,n){"use strict";n.r(t),n.d(t,"meta",(function(){return g})),n.d(t,"default",(function(){return m}));var a=n("Ff2n"),c=n("rePB"),i=(n("q1tI"),n("7ljp")),o=n("5qGs"),r=n("xJrX"),s=n.n(r),b=n("rY4T"),p=n.n(b);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u,g={title:"Configuration",description:"Documentation for the action's configuration. Described all inputs with examples."},h=(u="ResponsiveImage",function(e){return console.warn("Component "+u+" was not imported, exported, or provided by MDXProvider as global scope"),Object(i.b)("div",l({},e))}),f={meta:g},j=function(e){var t=e.children,n=Object(a.a)(e,["children"]);return Object(i.b)(o.a,l({meta:g},n),t)};function m(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(i.b)(j,l(l(l({},f),n),{},{components:t,mdxType:"MDXLayout"}),Object(i.b)("h1",l({},{id:"configuration"}),"Configuration"),Object(i.b)("p",null,"Jest Coverage Report action's configuration is created in the same way as for ",Object(i.b)("a",l({parentName:"p"},{href:"https://www.github.com/features/actions"}),"any other GitHub action"),"."),Object(i.b)("h2",l({},{id:"github-token"}),"github-token"),Object(i.b)("p",null,"GitHub token. Required parameter. By default, you can use standard GitHub-provided token: ",Object(i.b)("inlineCode",{parentName:"p"},"${{ secrets.GITHUB_TOKEN }}"),". Example:"),Object(i.b)("pre",null,Object(i.b)("code",l({parentName:"pre"},{className:"language-yaml"}),"- uses: artiomtr/jest-coverage-report-action@v2\n    with:\n        github-token: \\${{ secrets.GITHUB_TOKEN }}\n")),Object(i.b)("h2",l({},{id:"threshold"}),"threshold"),Object(i.b)("p",null,"If you want to set minimal accepted coverage for the PR, you can pass and optional parameter threshold."),Object(i.b)("p",null,"For example, if you want to reject every pull request, with total line coverage less than 80%:"),Object(i.b)("pre",null,Object(i.b)("code",l({parentName:"pre"},{className:"language-yaml"}),"- uses: artiomtr/jest-coverage-report-action@v2\n    with:\n        threshold: 80 # if coverage < 80%, action will fail\n")),Object(i.b)("h2",l({},{id:"working-directory"}),"working-directory"),Object(i.b)("p",null,"If you want to run this action in custom directory, specify ",Object(i.b)("inlineCode",{parentName:"p"},"working-directory"),":"),Object(i.b)("pre",null,Object(i.b)("code",l({parentName:"pre"},{className:"language-yaml"}),"with:\n    github-token: ${{ secrets.GITHUB_TOKEN }}\n    working-directory: <dir>\n")),Object(i.b)("h2",l({},{id:"test-script"}),"test-script"),Object(i.b)("p",null,"By default, action will run this command, to extract coverage:"),Object(i.b)("pre",null,Object(i.b)("code",l({parentName:"pre"},{className:"language-bash"}),'npx jest --silent --ci --coverage --testLocationInResults --json --outputFile="report.json"\n')),Object(i.b)("p",null,"If you're not satisfied with default behaviour, you can specify your own command, by passing custom option ",Object(i.b)("inlineCode",{parentName:"p"},"test-script"),"."),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"\u26a0 IMPORTANT: The test script must generate output in a specific format. For more information, see ",Object(i.b)("a",l({parentName:"strong"},{href:"https://github.com/ArtiomTr/jest-coverage-report-action#customizing-test-script"}),"docs"),".")),Object(i.b)("p",null,"For instance, if you want to run ",Object(i.b)("inlineCode",{parentName:"p"},"test:coverage")," npm script:"),Object(i.b)("pre",null,Object(i.b)("code",l({parentName:"pre"},{className:"language-yaml"}),"with:\n    github-token: ${{ secrets.GITHUB_TOKEN }}\n    test-script: npm run test:coverage\n")),Object(i.b)("h2",l({},{id:"icons"}),"icons"),Object(i.b)("p",null,"If you don't satisfied with the standard icons, you can replace them with ",Object(i.b)("inlineCode",{parentName:"p"},"icons")," input. Example:"),Object(i.b)("pre",null,Object(i.b)("code",l({parentName:"pre"},{className:"language-yaml"}),"with:\n    github-token: ${{ secrets.GITHUB_TOKEN }}\n    icons: ascii\n")),Object(i.b)("p",null,"Available options: ",Object(i.b)("inlineCode",{parentName:"p"},"emoji")," (standard), ",Object(i.b)("inlineCode",{parentName:"p"},"ascii"),", ",Object(i.b)("inlineCode",{parentName:"p"},"unicode"),"."),Object(i.b)("h2",l({},{id:"annotations"}),"annotations"),Object(i.b)("p",null,"Annotations are enabled by default. To disable them, specify ",Object(i.b)("inlineCode",{parentName:"p"},"annotations: none"),". For instance:"),Object(i.b)("pre",null,Object(i.b)("code",l({parentName:"pre"},{className:"language-yaml"}),"with:\n    github-token: ${{ secrets.GITHUB_TOKEN }}\n    annotations: none\n")),Object(i.b)("p",null,"If you want to enable only specific annotations, you can specify following choices:"),Object(i.b)("h3",l({},{id:"annotations-coverage"}),Object(i.b)("inlineCode",{parentName:"h3"},"annotations: coverage")),Object(i.b)(h,{width:"100%",images:s.a.images,mdxType:"ResponsiveImage"}),Object(i.b)("h3",l({},{id:"annotations-failed-tests"}),Object(i.b)("inlineCode",{parentName:"h3"},"annotations: failed-tests")),Object(i.b)(h,{width:"100%",images:p.a.images,mdxType:"ResponsiveImage"}),Object(i.b)("h3",l({},{id:"package-manager"}),"package-manager"),Object(i.b)("p",null,"By default, action uses ",Object(i.b)("a",l({parentName:"p"},{href:"https://github.com/npm/cli#readme"}),"npm")," package manager. But, if you want to use ",Object(i.b)("a",l({parentName:"p"},{href:"https://github.com/yarnpkg/berry#readme"}),"yarn"),", simply set ",Object(i.b)("inlineCode",{parentName:"p"},"package-manager: yarn")," option:"),Object(i.b)("pre",null,Object(i.b)("code",l({parentName:"pre"},{className:"language-yaml"}),"with:\n    github-token: ${{ secrets.GITHUB_TOKEN }}\n    package-manager: yarn\n")),Object(i.b)("h3",l({},{id:"skip-step"}),"skip-step"),Object(i.b)("p",null,"If you've installed dependencies in previous step, or you already have ",Object(i.b)("inlineCode",{parentName:"p"},"report.json")," file, you can skip ",Object(i.b)("inlineCode",{parentName:"p"},"install")," or ",Object(i.b)("inlineCode",{parentName:"p"},"all")," steps. For instance:"),Object(i.b)("pre",null,Object(i.b)("code",l({parentName:"pre"},{className:"language-yaml"}),"with:\n    github-token: ${{ secrets.GITHUB_TOKEN }}\n    skip-step: install\n")))}m.isMDXComponent=!0},rY4T:function(e,t){e.exports={srcSet:"_next/static/f76d409844fdbaf40a02c2a7dcc25d9e-320.jpg 320w,_next/static/d278ef33b339198adc4d1619564f5f08-640.jpg 640w,_next/static/5ef8d04e0e3beaaaf441e0cec5f267f1-960.jpg 960w,_next/static/94c5274e96afdfa64205426d03aea368-1200.jpg 1200w,_next/static/90b0f6dbb6e3b469bb53963a990f17f0-1777.jpg 1777w",images:[{path:"_next/static/f76d409844fdbaf40a02c2a7dcc25d9e-320.jpg",width:320,height:98},{path:"_next/static/d278ef33b339198adc4d1619564f5f08-640.jpg",width:640,height:196},{path:"_next/static/5ef8d04e0e3beaaaf441e0cec5f267f1-960.jpg",width:960,height:294},{path:"_next/static/94c5274e96afdfa64205426d03aea368-1200.jpg",width:1200,height:367},{path:"_next/static/90b0f6dbb6e3b469bb53963a990f17f0-1777.jpg",width:1777,height:544}],src:"_next/static/f76d409844fdbaf40a02c2a7dcc25d9e-320.jpg",toString:function(){return"_next/static/f76d409844fdbaf40a02c2a7dcc25d9e-320.jpg"},width:320,height:98}},xJrX:function(e,t){e.exports={srcSet:"_next/static/96c3da02e607d75f59b3665afb6e1534-320.jpg 320w,_next/static/ce7301cb240b7cc87c30c96c754c4446-640.jpg 640w,_next/static/b696e1d2f92ec3edd865156874b82b87-960.jpg 960w,_next/static/ec9e140d9eea4f3f69cb35984b18cde0-1200.jpg 1200w,_next/static/7fa716e74123c7af45763024a80b9dc0-1743.jpg 1743w",images:[{path:"_next/static/96c3da02e607d75f59b3665afb6e1534-320.jpg",width:320,height:147},{path:"_next/static/ce7301cb240b7cc87c30c96c754c4446-640.jpg",width:640,height:293},{path:"_next/static/b696e1d2f92ec3edd865156874b82b87-960.jpg",width:960,height:440},{path:"_next/static/ec9e140d9eea4f3f69cb35984b18cde0-1200.jpg",width:1200,height:550},{path:"_next/static/7fa716e74123c7af45763024a80b9dc0-1743.jpg",width:1743,height:799}],src:"_next/static/96c3da02e607d75f59b3665afb6e1534-320.jpg",toString:function(){return"_next/static/96c3da02e607d75f59b3665afb6e1534-320.jpg"},width:320,height:147}}},[["/vJb",1,2,4,5,0,3,6,7,8]]]);